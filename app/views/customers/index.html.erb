<div class="main-container">
    <div class="main-data">
        <div>
            <h2>Customers</h2> 
        </div>

        <% if flash[:notice] %>
            <div style="margin-top: 25px; margin-bottom: 15px; padding: 0px 15px 0px 15px; background-color: #e6ffe6; display: inline">
                <%= notice %>
            </div>
        <% end %>
    
        <table>
            <thead>
                <tr>
                    <th>&nbsp</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Telephone</th>
                    <th>Serv. Insurance</th>
                </tr>
            </thead>
            
            <tbody>
                <% @customers.each.with_index(1) do |customer, index| %>
                    <tr>
                        <td><%= index %></td>
                        <td><%= link_to full_name(customer), customer_path(customer), :title => 'Customer Profile' %></td>
                        <td><%= customer.email %></td>
                        <td><%= customer.telephone %></td>
                        <td style="text-align: center"><%= customer.has_service_insurance? %></td>
                        <td style="width: 15px"><%= link_to 'View', customer_path(customer) %></td>
                        <td style="width: 15px"><%= link_to 'Edit', edit_customer_path(customer) %></td>
                        <% if current_user.admin %>
                            <td style="text-align: left; width: 15px"><%= link_to "Delete", customer, method: :delete, data: { confirm: delete_confirmation_msg } %></td>
                        <% end %>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>

    <div class="bottom-navs">
        <span style="margin-right: 5px"><%= user_workspace %></span>
        <span style="margin-right: 5px"><%= link_to 'New Customer', new_customer_path %></span>
    </div>
</div>